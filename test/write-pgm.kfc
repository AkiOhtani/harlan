;; -*- scheme -*-

(module
  (define (main)
      ;; (let img (kernel ((i (iota 1024)))
      ;;                  (kernel ((j (iota 1024)))
      ;;                          (mod (* i j) 256))))
    (let ((img (make-vector 1024))
          (row (iota 1024)))
      (for (i 0 1024)
        (vector-set! img i row))
      (write-pgm "test.bin/test-image.pgm" img)
      (return 0))))