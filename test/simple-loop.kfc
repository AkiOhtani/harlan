;; -*- scheme -*-

(module
  (define (main)
      (let X (vector 1 2 3))
      (for (i 0 3)
        (let x (+ (vector-ref X (var i)) 1))
        (vector-set! (var X) (var i) (var x)))
      (assert (= (vector-ref X 0) 2))
      (return 0)))
